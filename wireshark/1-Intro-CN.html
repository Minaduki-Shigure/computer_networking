<!DOCTYPE html>
    <html>
    <head>
        <meta charset="UTF-8">
        <title>Wireshark Lab: Getting Started</title>
        
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/markdown.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/highlight.css">
        
        <style>
.task-list-item { list-style-type: none; } .task-list-item-checkbox { margin-left: -20px; vertical-align: middle; }
</style>
        <style>
            body {
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe WPC', 'Segoe UI', 'Ubuntu', 'Droid Sans', sans-serif;
                font-size: 14px;
                line-height: 1.6;
            }
        </style>
        
        
    </head>
    <body class="vscode-light">
        <h1 id="wireshark-lab-getting-started">Wireshark Lab: Getting Started</h1>
<p>Copyright (c) 2019 Minaduki Shigure.<br>
南京大学 电子科学与工程学院 吴康正 171180571</p>
<h2 id="%e5%ae%9e%e9%aa%8c%e7%8e%af%e5%a2%83">实验环境</h2>
<p>Ubuntu 19.10 eoan w/ x86_64 Linux 5.3.0-40-generic
Broadcom BCM4352 Wireless Network Adapter
Wireshark Version 3.0.5 (Git v3.0.5 packaged as 3.0.5-1)</p>
<h2 id="%e5%ae%9e%e9%aa%8c%e5%86%85%e5%ae%b9%e4%bd%a0%e5%a5%bd%e4%b8%96%e7%95%8c">实验内容：你好，世界！</h2>
<ol>
<li>首先运行Wireshark，从原则上来说，不应该允许任何非root用户拥有抓包的权限，因此切换到超级用户，然后再运行程序。<br>
可以看到启动后的界面如下所示：
<img src="file:////Users/minaduki/Desktop/computer_networking/wireshark/pic/1-1.png" alt="Welcome to wireshark"></li>
<li>启动后的界面列出了电脑上可供监听的端口，选择<code>wlp2s0</code>来监听此电脑无线网卡上的所有通讯，可以看见图示中就捕获到了一些不同协议的通讯，比如路由器广播的ARP询问、电脑系统更新时查询服务器DNS的请求等。
<img src="file:////Users/minaduki/Desktop/computer_networking/wireshark/pic/1-2.png" alt="Capture started"></li>
<li>按照课本上的要求，访问网页http://gaia.cs.umass.edu/wireshark-labs/INTRO-wireshark-file1.html，在Wireshark中找到了如下和此次请求有关联的封包：
<img src="file:////Users/minaduki/Desktop/computer_networking/wireshark/pic/1-3.png" alt="Capture result"></li>
<li>可以看见，本地计算机首先向DNS服务器（在本例中配置为路由器）发送了一个DNS请求，得到了网页服务器的IP地址，然后与远程服务器建立了TCP连接，发送HTTP GET请求，远程服务器收到请求后建立TCP连接将HTTP响应发回本地计算机，完成了网页的访问。<br>
另外，可以使用Wireshark的过滤器功能筛选出所有的HTTP请求，列出如下：
<img src="file:////Users/minaduki/Desktop/computer_networking/wireshark/pic/1-4.png" alt="HTTP filter"></li>
<li>按照课本要求，找到本地计算机发出的HTTP GET请求，Wireshark对数据包进行了层次化的结构分析，展开HTTP层的内容，就可以看到具体的GET请求内容。
<img src="file:////Users/minaduki/Desktop/computer_networking/wireshark/pic/1-5.png" alt="HTTP GET"></li>
</ol>
<h2 id="%e5%b0%8f%e7%bb%93">小结</h2>
<p>对实验要求问题的解答：</p>
<ol>
<li>List 3 protocols: 比如有ARP、DNS、HTTP、ICMPv6、UDP等。</li>
<li>How Long: 发送HTTP GET请求的时间戳是1.728137696，接收到返回新消息的时间戳是2.050217356，总共耗时0.32207966秒。</li>
<li>IP: 服务器的IP地址为128.119.245.12，本机地址由于存在NAT的关系，只能看见LAN地址为192.168.3.163.</li>
<li>打印出来的两个请求如下：
<img src="file:////Users/minaduki/Desktop/computer_networking/wireshark/pic/1-6.png" alt="HTTP Requests"></li>
</ol>

    </body>
    </html>